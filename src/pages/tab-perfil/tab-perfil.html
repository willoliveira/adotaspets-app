<ion-content>
	<div *ngIf="!waitRequest && !locked" class="not-authenticate" padding>
		<p text-center class="txt-login">Para ter acesso ao seu perfil e ao cadastro de pets, é necessário fazer o login.</p>
		<button ion-button round block (click)="facebookLogin()" class="bt-login-face">Fazer login com FaceBook</button>
		<button ion-button round block (click)="googleLogin()" class="bt-login-google">Fazer login com Google</button>
	</div>

	<div *ngIf="locked" class="content-perfil">
		<ion-segment [(ngModel)]="tab">
			<ion-segment-button value="perfil">
				Meu Perfil
			</ion-segment-button>
			<ion-segment-button value="pets">
				Meus Pets
			</ion-segment-button>
		</ion-segment>
		<div [ngSwitch]="tab">
            <!--PERFIL-->
			<div *ngSwitchCase="'perfil'" class="tab-perfil">
				<div class="img-user-perfil" [style.background-image]="userPicture"></div>
				<h3 class="name-perfil" text-center>{{userInfo.name}}</h3>

				<div class="container-description">
					<h3>Sobre mim</h3>
					<p>{{userInfo.description}}</p>

					<div class="container-bt-editar">
						<button (click)="openModalEditUser()" ion-button icon-right block round outline color="greenTheme">
							Editar <ion-icon name="create"></ion-icon>
						</button>
					</div>
				</div>
				
				<div class="container-bt-sair">
					<button (click)="logout()" ion-button icon-right block round outline color="redTheme">
						Sair <ion-icon name="log-out"></ion-icon>
					</button>
				</div>
			</div>

            <!--PETS-->
			<div *ngSwitchCase="'pets'" class="tab-pets">
				<div class="container-bt-add">
					<button (click)="openAddPetPage()" ion-button icon-right block round outline color="greenTheme">
						Adicionar pet <ion-icon name="add"></ion-icon>
					</button>
				</div>

				<ion-card *ngFor="let pet of pets; let i = index; trackBy: id">
					<ion-item>
						<ion-avatar item-left [ngStyle]="{'background-image': 'url(' + imagePet(pet) + ')'}"></ion-avatar>
						<h2>{{pet.name}}</h2>
						<p>{{pet.kind}}, porte {{pet.size}}</p>

						<p class="item-state pet-pending"><ion-icon name="home"></ion-icon> Precisa de um lar</p>
						<ion-badge class="item-likes" color="redTheme"><ion-icon name="heart-outline"></ion-icon> 5 likes</ion-badge>
					</ion-item>
					<ion-fab right bottom>
						<button ion-fab class="fab-map" mini color="greyTheme" (click)="openMenu(pet)">
							<ion-icon name='create'></ion-icon>
						</button>
					</ion-fab>
				</ion-card>
			</div>
		</div>
	</div>
</ion-content>
